# お問合せ動作確認チェックリスト

## 確認環境

- **確認日**: _______________
- **確認者**: _______________
- **ブラウザ**: Chrome / Firefox / Safari / Edge
- **バージョン**: _______________
- **OS**: Windows / macOS / Linux / iOS / Android
- **環境**: 開発環境 / ステージング環境 / 本番環境

---

## 1. お問合せフォーム画面の表示

- [ ] `/contact` にアクセスできる
- [ ] ページが正しく表示される（レイアウト崩れがない）
- [ ] タイトル「お問い合わせ」が表示される
- [ ] 「ホームに戻る」ボタンが表示され、クリックで `/` に遷移する
- [ ] 入力フィールド（名前/メールアドレス/件名/本文）が表示される
- [ ] 送信ボタン「送信する」が表示される
- [ ] PC/タブレット/スマホ表示でレイアウトが崩れない

---

## 2. 必須項目の未入力時エラー表示

- [ ] 全項目未入力で送信すると、各フィールドに必須エラーが表示され送信されない
- [ ] 名前未入力で送信すると「名前を入力してください」が表示される
- [ ] メールアドレス未入力で送信すると「メールアドレスを入力してください」が表示される
- [ ] 件名未入力で送信すると「件名を入力してください」が表示される
- [ ] 本文未入力で送信すると「本文を入力してください」が表示される
- [ ] エラー表示後に入力すると、該当フィールドのエラーが解除される

---

## 3. メールアドレス形式エラー表示

- [ ] `test` で送信すると「有効なメールアドレスを入力してください」が表示され送信されない
- [ ] `test@` で送信すると同様にエラーになる
- [ ] `test@example` で送信すると同様にエラーになる
- [ ] `@example.com` で送信すると同様にエラーになる
- [ ] `test @example.com`（スペース含む）で送信すると同様にエラーになる
- [ ] `test@example.com` で送信できる（エラーにならない）

---

## 4. 送信成功時の完了画面表示

- [ ] 有効な値で送信できる
- [ ] 送信中はボタン表示が「送信中...」になり、ボタン/フィールドが無効化される
- [ ] 送信成功後 `/contact/success` に遷移する
- [ ] 完了画面に「お問い合わせを受け付けました」が表示される
- [ ] 完了画面の「ホームに戻る」ボタンで `/` に遷移できる

---

## 5. 管理者へのメール受信確認

- [ ] お問い合わせ送信後、`ADMIN_EMAIL` 宛にメールが届く
- [ ] 迷惑メールフォルダに入っていない
- [ ] 件名が `[お問い合わせ] {件名}` 形式になっている
- [ ] 本文に「名前/メールアドレス/件名/本文」が含まれている
- [ ] HTML表示が崩れていない（テキスト版も読める）

---

## 6. MongoDBへのデータ保存確認

- [ ] お問い合わせ送信後、MongoDBの `contacts` コレクションにデータが保存される
- [ ] 保存データに `name/email/subject/message/createdAt` が入っている
- [ ] `name/subject/message` は trim されている
- [ ] `email` は小文字化されて保存されている

### MongoDB Atlas 利用時の注意

- [ ] Atlas の **Network Access → IP Access List** に、送信元のグローバルIPが許可されている
- [ ] 許可されていない場合、ローカルからは接続できず保存されない（アプリではエラーになる）
