# 管理画面動作確認チェックリスト

## 確認環境

- **確認日**: _______________
- **確認者**: _______________
- **ブラウザ**: Chrome / Firefox / Safari / Edge
- **バージョン**: _______________
- **OS**: Windows / macOS / Linux / iOS / Android
- **環境**: 開発環境 / ステージング環境 / 本番環境
- **管理者アカウント**: _______________
- **一般ユーザーアカウント**: _______________

---

## 1. 管理者でログイン後、/adminにアクセスできる

### 1.1 管理者アカウントでのログイン
- [ ] 管理者アカウント（role: "admin"）でログインする
- [ ] ログインが正常に完了する
- [ ] ダッシュボードまたはトップページに遷移する

### 1.2 管理画面へのアクセス
- [ ] ヘッダーのアカウントメニューをクリックする
- [ ] 「管理画面」メニュー項目が表示されている
- [ ] 「管理画面」メニュー項目をクリックする
- [ ] `/admin`に遷移する
- [ ] 管理画面のダッシュボードが表示される
- [ ] エラーメッセージが表示されない

### 1.3 直接URLアクセス
- [ ] ブラウザのアドレスバーに`/admin`を入力してEnterキーを押す
- [ ] 管理画面のダッシュボードが表示される
- [ ] リダイレクトされない
- [ ] エラーメッセージが表示されない

---

## 2. 一般ユーザーで/adminにアクセスすると403エラー表示

### 2.1 一般ユーザーアカウントでのログイン
- [ ] 一般ユーザーアカウント（role: "user"）でログインする
- [ ] ログインが正常に完了する
- [ ] ダッシュボードまたはトップページに遷移する

### 2.2 管理画面へのアクセス試行
- [ ] ヘッダーのアカウントメニューをクリックする
- [ ] 「管理画面」メニュー項目が表示されていない
- [ ] ブラウザのアドレスバーに`/admin`を直接入力してEnterキーを押す
- [ ] `/admin/403`にリダイレクトされる
- [ ] 403エラーページが表示される

### 2.3 403エラーページの表示確認
- [ ] 「403 Forbidden」というタイトルが表示されている
- [ ] 「アクセス権限がありません」というメッセージが表示されている
- [ ] 「このページは管理者専用です」という説明が表示されている
- [ ] 「ホームに戻る」ボタンが表示されている
- [ ] 「ホームに戻る」ボタンをクリックするとトップページに遷移する

---

## 3. ダッシュボードに統計情報（ユーザー数、お問合せ数）が表示される

### 3.1 ダッシュボードページの表示
- [ ] `/admin`にアクセスする
- [ ] ページタイトルが「管理ダッシュボード」になっている
- [ ] ページが正しく読み込まれる

### 3.2 統計情報の表示
- [ ] 「総ユーザー数」のカードが表示されている
- [ ] ユーザー数の数値が正しく表示されている
- [ ] 「総お問い合わせ数」のカードが表示されている
- [ ] お問い合わせ数の数値が正しく表示されている
- [ ] 数値が0以上で表示されている
- [ ] アイコン（People、ContactMail）が表示されている

### 3.3 ローディング状態
- [ ] ページ読み込み時にローディング状態が表示される
- [ ] ローディングが完了すると統計情報が表示される

### 3.4 エラーハンドリング
- [ ] APIエラーが発生した場合、エラーメッセージが表示される
- [ ] エラーメッセージがユーザーフレンドリーな内容になっている

---

## 4. /admin/usersでユーザー一覧が表示される

### 4.1 ユーザー管理ページへのアクセス
- [ ] 管理画面のタブナビゲーションで「ユーザー管理」タブをクリックする
- [ ] `/admin/users`に遷移する
- [ ] ページタイトルが「ユーザー管理」になっている

### 4.2 ユーザー一覧の表示
- [ ] DataGridにユーザー一覧が表示されている
- [ ] 各ユーザーの「名前」が表示されている
- [ ] 各ユーザーの「メールアドレス」が表示されている
- [ ] 各ユーザーの「権限」（ユーザー/管理者）が表示されている
- [ ] 各ユーザーの「作成日時」が表示されている
- [ ] データが正しく表示されている（空でない）

### 4.3 カラムの表示
- [ ] 「名前」カラムが表示されている
- [ ] 「メールアドレス」カラムが表示されている
- [ ] 「権限」カラムが表示されている
- [ ] 「作成日時」カラムが表示されている
- [ ] 「操作」カラムが表示されている

---

## 5. ユーザーの権限を変更できる

### 5.1 権限変更ボタンの表示
- [ ] 各ユーザー行に「権限変更」ボタンが表示されている
- [ ] ボタンがクリック可能な状態になっている

### 5.2 権限変更ダイアログの表示
- [ ] 「権限変更」ボタンをクリックする
- [ ] 確認ダイアログが表示される
- [ ] ユーザー名とメールアドレスが表示されている
- [ ] 現在の権限が表示されている
- [ ] 権限選択ドロップダウンが表示されている

### 5.3 権限の変更
- [ ] 権限を「ユーザー」から「管理者」に変更する
- [ ] 「変更」ボタンをクリックする
- [ ] 権限変更が正常に完了する
- [ ] ダイアログが閉じる
- [ ] ユーザー一覧が更新される
- [ ] 変更された権限が正しく表示される

### 5.4 権限の変更（逆方向）
- [ ] 権限を「管理者」から「ユーザー」に変更する
- [ ] 「変更」ボタンをクリックする
- [ ] 権限変更が正常に完了する
- [ ] 変更された権限が正しく表示される

### 5.5 エラーハンドリング
- [ ] 権限変更に失敗した場合、エラーメッセージが表示される
- [ ] エラーメッセージが適切に表示される

---

## 6. ユーザーを削除できる

### 6.1 削除ボタンの表示
- [ ] 各ユーザー行に「削除」ボタンが表示されている
- [ ] ボタンがクリック可能な状態になっている

### 6.2 削除確認ダイアログの表示
- [ ] 「削除」ボタンをクリックする
- [ ] 確認ダイアログが表示される
- [ ] ユーザー名とメールアドレスが表示されている
- [ ] 「この操作は取り消せません」という警告が表示されている

### 6.3 ユーザーの削除
- [ ] 「削除」ボタンをクリックする
- [ ] ユーザー削除が正常に完了する
- [ ] ダイアログが閉じる
- [ ] ユーザー一覧が更新される
- [ ] 削除されたユーザーが一覧から消える

### 6.4 キャンセル機能
- [ ] 「削除」ボタンをクリックする
- [ ] 確認ダイアログが表示される
- [ ] 「キャンセル」ボタンをクリックする
- [ ] ダイアログが閉じる
- [ ] ユーザーが削除されない

### 6.5 エラーハンドリング
- [ ] ユーザー削除に失敗した場合、エラーメッセージが表示される
- [ ] エラーメッセージが適切に表示される

---

## 7. /admin/contactsでお問合せ一覧が表示される

### 7.1 お問い合わせ管理ページへのアクセス
- [ ] 管理画面のタブナビゲーションで「お問い合わせ管理」タブをクリックする
- [ ] `/admin/contacts`に遷移する
- [ ] ページタイトルが「お問い合わせ管理」になっている

### 7.2 お問い合わせ一覧の表示
- [ ] DataGridにお問い合わせ一覧が表示されている
- [ ] 各お問い合わせの「名前」が表示されている
- [ ] 各お問い合わせの「メールアドレス」が表示されている
- [ ] 各お問い合わせの「件名」が表示されている
- [ ] 各お問い合わせの「作成日時」が表示されている
- [ ] データが正しく表示されている（空でない）

### 7.3 カラムの表示
- [ ] 「名前」カラムが表示されている
- [ ] 「メールアドレス」カラムが表示されている
- [ ] 「件名」カラムが表示されている
- [ ] 「作成日時」カラムが表示されている
- [ ] 「操作」カラムが表示されている

---

## 8. お問合せの詳細を表示できる

### 8.1 詳細表示ボタンの表示
- [ ] 各お問い合わせ行に「詳細」ボタンが表示されている
- [ ] ボタンがクリック可能な状態になっている

### 8.2 詳細表示ダイアログの表示
- [ ] 「詳細」ボタンをクリックする
- [ ] 詳細表示ダイアログ（モーダル）が表示される
- [ ] ダイアログのタイトルが「お問い合わせ詳細」になっている

### 8.3 詳細情報の表示
- [ ] 「名前」が表示されている
- [ ] 「メールアドレス」が表示されている
- [ ] 「件名」が表示されている
- [ ] 「本文」が表示されている
- [ ] 「作成日時」が表示されている
- [ ] すべての情報が正しく表示されている

### 8.4 ダイアログの閉じる機能
- [ ] 「閉じる」ボタンをクリックする
- [ ] ダイアログが閉じる
- [ ] 背景の一覧が再表示される

---

## 9. お問合せを削除できる

### 9.1 削除ボタンの表示
- [ ] 各お問い合わせ行に「削除」ボタンが表示されている
- [ ] ボタンがクリック可能な状態になっている

### 9.2 削除確認ダイアログの表示
- [ ] 「削除」ボタンをクリックする
- [ ] 確認ダイアログが表示される
- [ ] 件名が表示されている
- [ ] 「この操作は取り消せません」という警告が表示されている

### 9.3 お問い合わせの削除
- [ ] 「削除」ボタンをクリックする
- [ ] お問い合わせ削除が正常に完了する
- [ ] ダイアログが閉じる
- [ ] お問い合わせ一覧が更新される
- [ ] 削除されたお問い合わせが一覧から消える

### 9.4 キャンセル機能
- [ ] 「削除」ボタンをクリックする
- [ ] 確認ダイアログが表示される
- [ ] 「キャンセル」ボタンをクリックする
- [ ] ダイアログが閉じる
- [ ] お問い合わせが削除されない

### 9.5 エラーハンドリング
- [ ] お問い合わせ削除に失敗した場合、エラーメッセージが表示される
- [ ] エラーメッセージが適切に表示される

---

## 10. ページネーションが正しく動作する

### 10.1 ユーザー一覧のページネーション
- [ ] `/admin/users`にアクセスする
- [ ] ページネーションコントロールが表示されている
- [ ] 複数ページがある場合、ページ番号が表示される
- [ ] 「次へ」ボタンが表示されている（2ページ目以降がある場合）
- [ ] 「前へ」ボタンが表示されている（2ページ目以降の場合）

### 10.2 ページネーションの動作（ユーザー一覧）
- [ ] 「次へ」ボタンをクリックする
- [ ] 次のページのデータが表示される
- [ ] ページ番号が更新される
- [ ] 「前へ」ボタンをクリックする
- [ ] 前のページのデータが表示される
- [ ] ページ番号が更新される
- [ ] ページ番号を直接クリックする
- [ ] 該当ページのデータが表示される

### 10.3 お問い合わせ一覧のページネーション
- [ ] `/admin/contacts`にアクセスする
- [ ] ページネーションコントロールが表示されている
- [ ] 複数ページがある場合、ページ番号が表示される
- [ ] 「次へ」ボタンが表示されている（2ページ目以降がある場合）
- [ ] 「前へ」ボタンが表示されている（2ページ目以降の場合）

### 10.4 ページネーションの動作（お問い合わせ一覧）
- [ ] 「次へ」ボタンをクリックする
- [ ] 次のページのデータが表示される
- [ ] ページ番号が更新される
- [ ] 「前へ」ボタンをクリックする
- [ ] 前のページのデータが表示される
- [ ] ページ番号が更新される
- [ ] ページ番号を直接クリックする
- [ ] 該当ページのデータが表示される

### 10.5 ページサイズの変更
- [ ] ページサイズ選択ドロップダウンが表示されている
- [ ] ページサイズを変更する（例: 10件 → 25件）
- [ ] 表示件数が変更される
- [ ] ページネーションが再計算される

---

## 11. その他の確認項目

### 11.1 検索機能

#### ユーザー一覧の検索
- [ ] `/admin/users`にアクセスする
- [ ] 検索ボックスが表示されている
- [ ] 検索ボックスに名前を入力する
- [ ] Enterキーを押す、または「検索」ボタンをクリックする
- [ ] 該当するユーザーのみが表示される
- [ ] 検索ボックスにメールアドレスを入力する
- [ ] 該当するユーザーのみが表示される

#### お問い合わせ一覧の検索
- [ ] `/admin/contacts`にアクセスする
- [ ] 検索ボックスが表示されている
- [ ] 検索ボックスに名前を入力する
- [ ] Enterキーを押す、または「検索」ボタンをクリックする
- [ ] 該当するお問い合わせのみが表示される
- [ ] 検索ボックスに件名を入力する
- [ ] 該当するお問い合わせのみが表示される

---

### 11.2 ソート機能

#### ユーザー一覧のソート
- [ ] `/admin/users`にアクセスする
- [ ] カラムヘッダーをクリックする
- [ ] データがソートされる（昇順/降順）
- [ ] ソートアイコンが表示される
- [ ] 複数のカラムでソートが可能

#### お問い合わせ一覧のソート
- [ ] `/admin/contacts`にアクセスする
- [ ] カラムヘッダーをクリックする
- [ ] データがソートされる（昇順/降順）
- [ ] ソートアイコンが表示される
- [ ] 複数のカラムでソートが可能

---

### 11.3 レスポンシブ表示

#### PC（デスクトップ）表示
- [ ] PCで管理画面が正しく表示される
- [ ] すべての要素が適切に配置されている
- [ ] DataGridが正しく表示される
- [ ] タブナビゲーションが正しく表示される

#### タブレット表示
- [ ] タブレットで管理画面が正しく表示される
- [ ] レイアウトが適切に調整されている
- [ ] DataGridが正しく表示される

#### スマートフォン表示
- [ ] スマートフォンで管理画面が正しく表示される
- [ ] レイアウトが適切に調整されている
- [ ] DataGridが正しく表示される（スクロール可能）

---

### 11.4 ナビゲーション

#### タブナビゲーション
- [ ] 「ダッシュボード」タブをクリックする
- [ ] `/admin`に遷移する
- [ ] 「ユーザー管理」タブをクリックする
- [ ] `/admin/users`に遷移する
- [ ] 「お問い合わせ管理」タブをクリックする
- [ ] `/admin/contacts`に遷移する
- [ ] アクティブなタブがハイライト表示される

---

### 11.5 ローディング状態

#### データ読み込み中の表示
- [ ] ページにアクセスする
- [ ] データ読み込み中にローディングインジケーターが表示される
- [ ] ローディングが完了するとデータが表示される
- [ ] ローディングインジケーターが消える

---

### 11.6 エラーハンドリング

#### APIエラー
- [ ] ネットワークエラーをシミュレートする（ネットワークを切断）
- [ ] エラーメッセージが表示される
- [ ] エラーメッセージがユーザーフレンドリーな内容になっている

#### 権限エラー
- [ ] 一般ユーザーで管理画面にアクセスする
- [ ] 403エラーページが表示される
- [ ] エラーメッセージが適切に表示される

---

### 11.7 ブラウザ互換性

#### Chrome
- [ ] Chromeで正常に動作する
- [ ] すべての機能が正常に動作する

#### Firefox
- [ ] Firefoxで正常に動作する
- [ ] すべての機能が正常に動作する

#### Safari
- [ ] Safariで正常に動作する
- [ ] すべての機能が正常に動作する

#### Edge
- [ ] Edgeで正常に動作する
- [ ] すべての機能が正常に動作する

---

### 11.8 コンソールエラー確認

#### クライアント側エラー
- [ ] ブラウザのコンソールを開く
- [ ] コンソールにエラーが表示されない
- [ ] 警告メッセージが適切に処理されている
- [ ] Reactの警告が表示されない

#### ネットワークエラー
- [ ] ネットワークタブを開く
- [ ] APIリクエストが正常に送信されている
- [ ] APIレスポンスが正常に返ってきている
- [ ] エラーレスポンスが適切に処理されている

---

## 確認結果サマリー

### 確認完了項目数
- 総項目数: _______________
- 合格項目数: _______________
- 不合格項目数: _______________

### 発見された問題

#### 重大な問題（Critical）
1. _______________
2. _______________
3. _______________

#### 中程度の問題（Major）
1. _______________
2. _______________
3. _______________

#### 軽微な問題（Minor）
1. _______________
2. _______________
3. _______________

### 改善提案
1. _______________
2. _______________
3. _______________

### 確認者コメント
_______________
_______________
_______________

---

## 確認完了

- [ ] すべての確認項目を完了した
- [ ] 発見された問題を記録した
- [ ] 改善提案を記録した
- [ ] 確認結果を関係者に共有した

**確認日**: _______________  
**確認者署名**: _______________
